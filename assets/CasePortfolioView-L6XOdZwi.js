import{d as _,r as c,o as w,c as C,a as o,b as k,e,f as T,w as D,v as E,F as x,g as m,n as O,t as l,h as b,u as S,i as r}from"./index-4nFZZCxa.js";const H={async getAll(){return new Promise(u=>{setTimeout(()=>{u([{id:"CASE-P0-OVT-2025-006",vendor:"Ovaltine (AB Food)",amount:32e5,currency:"THB",status:"OPEN",risk_level:"HIGH",created_at:"2026-01-01T16:25:00",priority_score:95},{id:"CASE-P0-OVT-2025-007",vendor:"OfficeSup Co.",amount:245e3,currency:"THB",status:"OPEN",risk_level:"MEDIUM",created_at:"2026-01-02T09:15:00",priority_score:50},{id:"CASE-P0-OVT-2025-008",vendor:"Packaging Solutions",amount:105e4,currency:"THB",status:"CLOSED",risk_level:"LOW",created_at:"2025-12-28T14:30:00",priority_score:20}])},800)})}},B={class:"space-y-6"},P={class:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden"},L={class:"p-5 border-b border-slate-100 bg-slate-50/50 flex gap-4"},N={class:"relative flex-1 max-w-md"},V={key:0,class:"p-8 space-y-4"},A={key:1,class:"overflow-x-auto"},I={class:"w-full text-left border-collapse"},M={class:"divide-y divide-slate-100"},j={class:"px-6 py-4"},F={class:"font-mono font-bold text-slate-900 text-xs"},R={class:"px-6 py-4 text-sm font-medium text-slate-700"},G={class:"px-6 py-4 text-right"},U={class:"font-mono text-slate-900 font-medium text-sm"},$={class:"px-6 py-4 text-center"},z={class:"px-6 py-4 text-center"},W={class:"px-6 py-4 text-center"},q={class:"font-mono text-xs text-slate-400"},Q={class:"px-6 py-4 text-right"},J=["onClick"],K={key:2,class:"p-10 text-center text-slate-500"},Z=_({__name:"CasePortfolioView",setup(u){const i=c([]),n=c(!0),d=c(""),v=S();w(async()=>{try{n.value=!0,i.value=await H.getAll()}catch(a){console.error("Failed to load cases",a)}finally{n.value=!1}});const f=a=>{v.push(`/cases/${a}`)},p=C(()=>{if(!d.value)return i.value;const a=d.value.toLowerCase();return i.value.filter(s=>s.id.toLowerCase().includes(a)||s.vendor.toLowerCase().includes(a))}),y=a=>new Intl.NumberFormat("th-TH",{style:"decimal",minimumFractionDigits:0}).format(a),h=a=>{switch(a){case"HIGH":return"bg-red-50 text-red-700 border-red-100";case"MEDIUM":return"bg-amber-50 text-amber-700 border-amber-100";case"LOW":return"bg-slate-50 text-slate-600 border-slate-100";default:return"bg-slate-50"}};return(a,s)=>(r(),o("div",B,[s[4]||(s[4]=k('<div class="flex flex-col md:flex-row md:items-center justify-between gap-4"><div><h1 class="text-2xl font-bold text-slate-900">Case Portfolio</h1><div class="flex items-center gap-2 mt-1"><span class="text-xs font-mono bg-slate-100 text-slate-600 px-2 py-0.5 rounded border border-slate-200">GET /api/cases</span><span class="text-xs text-slate-500">â€¢ Backlog Overview</span></div></div><div class="flex gap-3"><button class="px-4 py-2 bg-white border border-slate-200 rounded-md text-sm font-semibold text-slate-700 hover:bg-slate-50 transition shadow-sm">Filter</button><button class="px-4 py-2 bg-primary text-white rounded-md text-sm font-semibold hover:bg-red-700 transition shadow-sm flex items-center gap-2"><span class="material-icons-outlined text-sm">add</span> Ingest New Case </button></div></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between"><div><p class="text-[10px] uppercase font-bold text-slate-500 mb-1">Total Exposure</p><p class="text-xl font-mono font-bold text-slate-900">THB 4.5M</p></div><div class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-600"><span class="material-icons-outlined">payments</span></div></div><div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between border-l-4 border-l-primary"><div><p class="text-[10px] uppercase font-bold text-slate-500 mb-1">High Risk Cases</p><p class="text-xl font-mono font-bold text-red-600">2</p></div><div class="w-10 h-10 rounded-full bg-red-50 flex items-center justify-center text-red-600"><span class="material-icons-outlined">warning</span></div></div></div>',2)),e("div",P,[e("div",L,[e("div",N,[s[1]||(s[1]=e("span",{class:"absolute left-3 top-2.5 text-slate-400 material-icons-outlined text-[18px]"},"search",-1)),D(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>d.value=t),type:"text",placeholder:"Search case ID, vendor...",class:"w-full pl-10 pr-4 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition"},null,512),[[E,d.value]])])]),n.value?(r(),o("div",V,[(r(),o(x,null,m(3,t=>e("div",{key:t,class:"h-16 bg-slate-50 rounded animate-pulse"})),64))])):(r(),o("div",A,[e("table",I,[s[2]||(s[2]=e("thead",null,[e("tr",{class:"bg-slate-50 border-b border-slate-200 text-[11px] uppercase tracking-wide text-slate-500 font-bold"},[e("th",{class:"px-6 py-3"},"Case ID"),e("th",{class:"px-6 py-3"},"Vendor"),e("th",{class:"px-6 py-3 text-right"},"Amount (THB)"),e("th",{class:"px-6 py-3 text-center"},"Status"),e("th",{class:"px-6 py-3 text-center"},"Risk"),e("th",{class:"px-6 py-3 text-center"},"Created"),e("th",{class:"px-6 py-3"})])],-1)),e("tbody",M,[(r(!0),o(x,null,m(p.value,(t,g)=>(r(),o("tr",{key:t.id,class:"hover:bg-slate-50 transition-colors duration-200 group cursor-default animate-enter",style:O({animationDelay:`${g*50}ms`})},[e("td",j,[e("div",F,l(t.id),1)]),e("td",R,l(t.vendor),1),e("td",G,[e("div",U,l(y(t.amount)),1)]),e("td",$,[e("span",{class:b(["inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-[10px] font-bold border min-w-[60px]",t.status==="OPEN"?"bg-blue-50 text-blue-700 border-blue-100":"bg-slate-100 text-slate-600 border-slate-200"])},l(t.status),3)]),e("td",z,[e("span",{class:b(["inline-flex items-center justify-center px-2.5 py-1 rounded-md text-[10px] font-bold border min-w-[50px]",h(t.risk_level)])},l(t.risk_level),3)]),e("td",W,[e("div",q,l(new Date(t.created_at).toLocaleDateString()),1)]),e("td",Q,[e("button",{onClick:X=>f(t.id),class:"text-xs font-bold text-slate-500 bg-white border border-slate-200 px-3 py-1.5 rounded shadow-sm hover:text-primary hover:border-primary hover:shadow-md hover:-translate-y-0.5 active:translate-y-0 active:shadow-sm transition-all duration-200"}," Manage ",8,J)])],4))),128))])])])),!n.value&&p.value.length===0?(r(),o("div",K,[...s[3]||(s[3]=[e("span",{class:"material-icons-outlined text-4xl mb-2 text-slate-300"},"search_off",-1),e("p",{class:"text-sm"},"No cases found matching your search.",-1)])])):T("",!0)])]))}});export{Z as default};
