import{d as g,r as m,o as b,k as h,a,e,j as n,t as i,q as y,F as u,g as x,b as _,n as w,h as k,i as o}from"./index-B3yHKEwH.js";const P={async getLogs(p){return new Promise(l=>{setTimeout(()=>{l([{id:"log_004",action:"Decision Recorded",actor:{name:"Somchai M.",role:"Procurement Manager"},timestamp:"2026-01-02T10:30:00",details:'Approved PO creation. Note: "Budget confirmed with K.Suda"',hash:"0x8f...a1b2",status:"COMPLETED"},{id:"log_003",action:"AI Risk Analysis",actor:{name:"TH8 Sentinel AI",role:"System"},timestamp:"2026-01-01T16:26:15",details:'Flagged "High Amount" and "Split PO Risk". Confidence: 98.5%',hash:"0x7a...c9d1",status:"COMPLETED"},{id:"log_002",action:"Policy Validation",actor:{name:"Rule Engine v2",role:"System"},timestamp:"2026-01-01T16:25:05",details:"Checked against Policy Procurement-001 v3. Passed 12/13 rules.",hash:"0x3b...f2e4",status:"COMPLETED"},{id:"log_001",action:"Case Created",actor:{name:"ERP Sync",role:"Integration"},timestamp:"2026-01-01T16:25:00",details:"Ingested from SAP Connector. PO #PO-2025-9981",hash:"0x1c...d4e5",status:"COMPLETED"}])},500)})}},S={class:"max-w-3xl mx-auto"},T={class:"bg-slate-900 text-white rounded-xl p-6 mb-8 shadow-lg flex items-center justify-between"},E={class:"text-slate-400 text-xs mt-1 font-mono"},C={key:0,class:"space-y-6 p-4"},D={key:1,class:"relative pl-4"},I={class:"relative z-10 shrink-0"},L={key:0,class:"material-icons-outlined text-sm"},A={key:1,class:"material-icons-outlined text-sm"},O={class:"flex-1 bg-white border border-slate-200 rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow relative"},R={class:"flex justify-between items-start mb-2"},M={class:"font-bold text-slate-800 text-sm"},j={class:"text-xs text-slate-500"},V={class:"font-semibold text-slate-700"},z={class:"text-right"},B={class:"text-[10px] font-mono text-slate-400 block"},F={class:"text-sm text-slate-600 bg-slate-50 p-3 rounded border border-slate-100 mb-3"},N={class:"flex items-center gap-2 border-t border-slate-100 pt-2"},H={class:"text-[10px] font-mono text-slate-400"},K=g({__name:"AuditTimelineView",setup(p){const l=h(),r=m([]),d=m(!0);b(async()=>{try{d.value=!0,r.value=await P.getLogs(l.params.caseId)}finally{d.value=!1}});const f=c=>new Date(c).toLocaleString("th-TH",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return(c,t)=>(o(),a("div",S,[e("div",T,[e("div",null,[t[0]||(t[0]=e("h2",{class:"text-lg font-bold flex items-center gap-2"},[e("span",{class:"material-icons-outlined text-emerald-400"},"verified_user"),n(" Immutable Audit Trail ")],-1)),e("p",E," Ledger ID: "+i(y(l).params.caseId),1)]),t[1]||(t[1]=e("div",{class:"text-right"},[e("div",{class:"text-xs text-slate-400 uppercase font-bold tracking-wider"},"Security Level"),e("div",{class:"text-emerald-400 font-bold text-sm flex items-center gap-1 justify-end"},[e("span",{class:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),n(" Tamper-Proof ")])],-1))]),d.value?(o(),a("div",C,[(o(),a(u,null,x(3,s=>e("div",{key:s,class:"flex gap-4 animate-pulse"},[...t[2]||(t[2]=[_('<div class="w-12 flex flex-col items-center"><div class="w-8 h-8 bg-slate-200 rounded-full"></div><div class="w-0.5 h-full bg-slate-100 mt-2"></div></div><div class="flex-1 space-y-2"><div class="h-4 bg-slate-200 w-1/4 rounded"></div><div class="h-20 bg-slate-100 rounded-lg"></div></div>',2)])])),64))])):(o(),a("div",D,[t[7]||(t[7]=e("div",{class:"absolute left-8 top-0 bottom-0 w-0.5 bg-slate-200"},null,-1)),(o(!0),a(u,null,x(r.value,(s,v)=>(o(),a("div",{key:s.id,class:"relative flex gap-6 mb-8 group animate-enter",style:w({animationDelay:`${v*100}ms`})},[e("div",I,[e("div",{class:k(["w-9 h-9 rounded-full flex items-center justify-center border-2 border-white shadow-sm",s.actor.role==="System"?"bg-indigo-100 text-indigo-600":"bg-slate-800 text-white"])},[s.actor.role==="System"?(o(),a("span",L,"smart_toy")):(o(),a("span",A,"person"))],2)]),e("div",O,[t[6]||(t[6]=e("div",{class:"absolute top-4 -left-1.5 w-3 h-3 bg-white border-l border-b border-slate-200 transform rotate-45"},null,-1)),e("div",R,[e("div",null,[e("h3",M,i(s.action),1),e("p",j,[t[3]||(t[3]=n("by ",-1)),e("span",V,i(s.actor.name),1),n(" ("+i(s.actor.role)+")",1)])]),e("div",z,[e("span",B,i(f(s.timestamp)),1)])]),e("p",F,i(s.details),1),e("div",N,[t[4]||(t[4]=e("span",{class:"material-icons-outlined text-[12px] text-slate-300"},"fingerprint",-1)),e("code",H,i(s.hash),1),t[5]||(t[5]=e("span",{class:"ml-auto text-[10px] text-emerald-600 font-bold px-2 py-0.5 bg-emerald-50 rounded-full"}," VERIFIED ",-1))])])],4))),128)),t[8]||(t[8]=e("div",{class:"relative flex gap-6"},[e("div",{class:"relative z-10 shrink-0 w-9 h-9 flex items-center justify-center"},[e("div",{class:"w-3 h-3 bg-slate-300 rounded-full"})]),e("div",{class:"pt-1.5 text-xs text-slate-400 uppercase font-bold tracking-widest"},"Start of Record")],-1))]))]))}});export{K as default};
